var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var i=null;e.event?(i=e,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=s,t(i)):t(i)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),t+n+i}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function i(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function o(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function r(e,t){a=e,s=t}var s="",a="";return{getInsertData:i,getFileFormat:n,logEvent:o,setIds:r}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-d<358e4?e({}):(t.open("POST",o,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return s&&l===e}function i(i,o){function c(t){var n,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",i),d=t.refreshedAt||d,u=t.token||u,n=e.getInsertData(o),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&n(o.event)))return s=!0,l=o.event,setTimeout(function(){s=!1},a),t(c)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,u="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var t=new XMLHttpRequest;e&&"function"==typeof e&&(t.open("GET",n+"ping?callback=_",!0),t.onreadystatechange=function(){try{4===t.readyState&&(i=!0,200===t.status?(o=!0,e(!0,t.responseText)):(console.debug("Rise Cache is not running"),o=!1,e(!1,null)))}catch(n){console.debug("Caught exception: ",n.description)}},t.send())}function t(e,t,r){function s(){var t,i,s;o?t=r?n+"?url="+encodeURIComponent(e):n+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):r?t=e:(i=e.split("?"),s=1===i.length?"?":"&",t=e+s+"cb="+(new Date).getTime()),a("HEAD",t)}function a(e,n){var i=new XMLHttpRequest,r={xhr:i,url:n};o?(i.open(e,n,!0),i.addEventListener("loadend",function(){var o=i.status||0;o>=200&&300>o?t(r):"HEAD"===e?a("GET",n):t(r,new Error("The request failed with status code: "+o))}),i.send()):t(r)}if(e&&t&&"function"==typeof t)return i?s():this.ping(s)}var n="//localhost:9494/",i=!1,o=!1;return{getFile:t,ping:e}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",i="color: "+(t.color?t.color:t.forecolor)+"; ",o="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),r="font-weight: "+(t.bold?"bold":"normal")+"; ",s="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+i+o+r+s+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,i=e.length;i>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,r){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,r):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&o(n.fontSetting.font.family,r))})}function i(e,t,n){var i=null,o="font-family: "+e+"; src: url('"+t+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",o)}function o(e,t){var n=document.createElement("link");t=t||document,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.split(",")[0]),null!==n&&t.getElementsByTagName("head")[0].appendChild(n)}function r(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i]=new Image,n[i].src=e[i]}function s(e){for(var t,n=window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++)if(t=i[o].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function a(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:i,loadGoogleFont:o,preloadImages:r,getRiseCacheErrorMessage:a}}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"},RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){e.rpc.call("","rsevent_ready",null,b.getString("id"),!0,!0,!0,!0,!0)}function n(){e.rpc.call("","rsevent_done",null,b.getString("id")),null!==L&&u(L,!0),u({event:"done",file_url:r()},!1)}function i(){clearTimeout(k),k=null}function o(){i(),k=setTimeout(function(){n()},5e3)}function r(){var e=-1;if(O&&O.length>0){if("file"===I)return O[0];if("folder"===I&&T&&T.isReady()&&(e=T.getCurrentSlide(),-1!==e))return O[e]}return null}function s(){var e,n=document.getElementById("container"),i=document.createDocumentFragment(),o=document.createElement("div");V=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),V.show("Please wait while your image is downloaded."),w.background&&Object.keys(w.background).length>0&&(document.body.style.background=w.background.color),"file"===I?(o=a(),i.appendChild(o),n.appendChild(i),e=0!==Object.keys(w.storage).length,e?(A="storage file",C=new RiseVision.Image.StorageFile(w),C.init()):(A="custom",S=new RiseVision.Image.NonStorage(w),S.init())):"folder"===I&&(o.className="tp-banner-container",i.appendChild(o),n.appendChild(i),A="storage folder",C=new RiseVision.Image.StorageFolder(w),C.init()),t()}function a(){var e=document.createElement("div");return e.setAttribute("id","image"),e.className=w.position,e.className=w.scaleToFit?e.className+" scale-to-fit":e.className,e}function l(e){var t=document.getElementById("container"),n=document.querySelector("#container #image"),i=document.createDocumentFragment(),o=a();o.style.backgroundImage="url('"+e+"')",o.style.opacity="0",i.appendChild(o),t.appendChild(i),o.style.opacity="1",setTimeout(function(){t.removeChild(n)},3e3)}function d(){return F}function u(e,t){t&&(L=e),RiseVision.Common.LoggerUtils.logEvent(R(),e)}function c(e){"file"===I?(O[0]=e,V.hide(),l(O[0])):"folder"===I&&(O=e,T=new RiseVision.Image.Slider(w),T.init(e))}function g(e){"file"===I?(O[0]=e,l(O[0])):"folder"===I&&(O=e,T.refresh(O)),N=!1,F=!1,L=null}function m(e,t){w=_.clone(e),I=t,w.width=b.getInt("rsW"),w.height=b.getInt("rsH"),document.getElementById("container").style.height=b.getInt("rsH")+"px",s()}function f(){V.hide(),q||T.play()}function p(){n()}function h(){q=!0,i(),"folder"===I&&T&&T.isReady()&&T.pause()}function v(){return q=!1,x||(u({event:"configuration",event_details:A},!1),x=!0),u({event:"play",file_url:r()},!1),N?(o(),void 0):("folder"===I&&T&&T.isReady()&&T.play(),void 0)}function R(){return"image_events"}function y(e,t){N=!0,F="undefined"!=typeof t,V.show(e),"folder"===I&&T&&T.isReady()&&T.destroy(),q||o()}function E(){h()}var I,b=new e.Prefs,V=null,w=null,C=null,S=null,T=null,O=[],L=null,A=null,k=null,N=!1,F=!1,x=!1,q=!0;return{hasStorageError:d,logEvent:u,onFileInit:c,onFileRefresh:g,onSliderComplete:p,onSliderReady:f,pause:h,play:v,setAdditionalParams:m,getTableName:R,showError:y,stop:E}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Slider=function(e){"use strict";function t(){var t=document.querySelector(".tp-banner ul"),n=document.createDocumentFragment(),i=[],o=null,r=null,s="";m=p.length,p.forEach(function(t){switch(o=document.createElement("li"),r=document.createElement("img"),o.setAttribute("data-transition","fade"),o.setAttribute("data-masterspeed",1e3*e.transition),o.setAttribute("data-delay",1e3*e.duration),r.src=t.url,e.position){case"top-left":s="left top";break;case"top-center":s="center top";break;case"top-right":s="right top";break;case"middle-left":s="left center";break;case"middle-center":s="center center";break;case"middle-right":s="right center";break;case"bottom-left":s="left bottom";break;case"bottom-center":s="center bottom";break;case"bottom-right":s="right bottom";break;default:s="left top"}r.setAttribute("data-bgposition",s),e.scaleToFit?r.setAttribute("data-bgfit","contain"):r.setAttribute("data-bgfit","normal"),o.appendChild(r),i.push(o)}),i.forEach(function(e){n.appendChild(e)}),t.appendChild(n)}function n(e){V?c():y&&(y=!1,c(),RiseVision.Image.onSliderComplete(),E&&(f&&(i(),l(h)),E=!1)),e.slideIndex===m&&(y=!0)}function i(){$("body").off("touchend"),f.off("revolution.slide.onloaded"),f.off("revolution.slide.onchange"),f.revkill(),f=null}function o(){V=!0,clearTimeout(R),R=setTimeout(function(){f.revnext(),f.revresume(),V=!1,b=!0},1e3*e.pause),r()}function r(){e.autoHide&&(clearTimeout(v),v=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},w))}function s(){f&&(y=!1,c(),i())}function a(){return f&&p&&p.length>0?f.revcurrentslide():-1}function l(i){var s=document.querySelector(".tp-banner-container"),a=document.createDocumentFragment(),l=document.createElement("div"),d=document.createElement("ul");l.setAttribute("class","tp-banner"),l.appendChild(d),a.appendChild(l),s.appendChild(a),p=_.clone(i),t(),I=!0,f=$(".tp-banner").revolution({hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",touchenabled:"off",startwidth:e.width,startheight:e.height}),f.on("revolution.slide.onloaded",function(){c(),I=!1,RiseVision.Image.onSliderReady()}),f.on("revolution.slide.onchange",function(e,t){n(t)}),$("body").on("touchend",".tp-banner",function(){o(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){o()}),r()}function d(){return!I}function u(){f&&(e.hasOwnProperty("resume")&&!e.resume&&f.revshowslide(0),b||(f.revresume(),b=!0))}function c(){f&&b&&(f.revpause(),b=!1)}function g(e){RiseVision.Common.Utilities.preloadImages(e),h=_.clone(e),E=!0}var m=0,f=null,p=null,h=null,v=null,R=null,y=!1,E=!1,I=!0,b=!1,V=!1,w=3e3;return{getCurrentSlide:a,destroy:s,init:l,isReady:d,play:u,pause:c,refresh:g}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFile=function(e){"use strict";function t(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",function(e){var t;e.detail&&e.detail.url&&(t=e.detail.url.replace("'","\\'"),n?(n=!1,RiseVision.Image.onFileInit(t)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Image.onFileRefresh(t):RiseVision.Image.hasStorageError()&&RiseVision.Image.onFileRefresh(e.detail.url)))}),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-no-file",function(e){var t={event:"error",event_details:"storage file not found",file_url:e.detail},n=document.getElementById("image");n.style.background="",RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-file-throttled",function(e){var t={event:"error",event_details:"storage file throttled",file_url:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image is temporarily unavailable.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise storage error",error_details:"The request failed with status code: "+e.detail.error.currentTarget.status,file_url:t};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise cache error",error_details:e.detail.error.message,file_url:t};RiseVision.Image.logEvent(n,!0);var i=0;e.detail.error.message&&(i=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(i);RiseVision.Image.showError(o)}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("env",config.STORAGE_ENV),t.go()}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFolder=function(e){"use strict";function t(e){var t;e.detail&&(e.detail.added&&r.push({name:e.detail.name,url:e.detail.url}),e.detail.changed&&(t=_.find(r,function(t){return t.name===e.detail.name}),t.url=e.detail.url),e.detail.deleted&&(r=_.reject(r,function(t){return t.name===e.detail.name}))),r=_.sortBy(r,function(e){return e.name.toLowerCase()})}function n(e){return t(e),e.detail.added&&o?(r.length>1?(o=!1,clearTimeout(s),RiseVision.Image.onFileInit(r)):s=setTimeout(function(){o=!1,RiseVision.Image.onFileInit(r)},5e3),void 0):((!e.detail.hasOwnProperty("changed")||e.detail.changed||RiseVision.Image.hasStorageError())&&RiseVision.Image.onFileRefresh(r),void 0)}function i(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",n),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"error",event_details:"storage folder empty"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any images.")}),t.addEventListener("rise-storage-no-folder",function(e){var t={event:"error",event_details:"storage folder doesn't exist",error_details:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"error",event_details:"storage folder format(s) invalid"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any supported image formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Image.logEvent(t,!0);var n=0;e.detail.error.message&&(n=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(n);RiseVision.Image.showError(i)}),t.setAttribute("fileType","image"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go()}var o=!0,r=[],s=null;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.NonStorage=function(e){"use strict";function t(e){var t;o.getFile(l,function(e,i){if(i){t={event:"error",event_details:"non-storage error",error_details:i.message,file_url:e.url},RiseVision.Image.logEvent(t,!0);var o=0;i.message&&(o=+i.message.substring(i.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(o);RiseVision.Image.showError(r)}else a?(a=!1,RiseVision.Image.onFileInit(e.url),n()):RiseVision.Image.onFileRefresh(e.url)},e)}function n(){null===s&&(s=setInterval(function(){t(!1)},r))}function i(){l=e.url&&""!==e.url?e.url:e.selector.url,t(!0)}var o=RiseVision.Common.RiseCache,r=3e5,s=null,a=!0,l="";return{init:i}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(r){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.visibility="visible",r=!1}}function o(n){var i,o=document.createDocumentFragment();r?(i=t.querySelector(".message"),i.innerHTML=n):(e.style.visibility="hidden",t.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),o.appendChild(i),t.appendChild(o),r=!0)}var r=!1;return n(),{hide:i,show:o}},function(e,t,n){"use strict";function i(e,t){var n,i,o="",r="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(r=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,r),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),i=0!==Object.keys(n.storage).length?n.storage.fileName?"file":"folder":"file",RiseVision.Image.setAdditionalParams(n,i)))}function o(){RiseVision.Image.pause()}function r(){RiseVision.Image.play()}function s(){RiseVision.Image.stop()}function a(){e.removeEventListener("WebComponentsReady",a),l&&""!==l&&(n.rpc.register("rscmd_play_"+l,r),n.rpc.register("rscmd_pause_"+l,o),n.rpc.register("rscmd_stop_"+l,s),n.rpc.register("rsparam_set_"+l,i),n.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}var l=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",a)}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJtb250aCIsImdldFVUQ01vbnRoIiwiZGF5IiwiZ2V0VVRDRGF0ZSIsInVybCIsInN0ciIsImhhc1BhcmFtcyIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwidGVzdCIsImluZGV4T2YiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwidHMiLCJ0b0lTT1N0cmluZyIsImxvZ0V2ZW50IiwidGFibGUiLCJMb2dnZXIiLCJsb2ciLCJzZXRJZHMiLCJjb21wYW55IiwiZGlzcGxheSIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJyZXBsYWNlIiwic2V0UmVxdWVzdEhlYWRlciIsImhhc093blByb3BlcnR5Iiwic2V0VGltZW91dCIsInRocm90dGxlRGVsYXkiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiY2FsbGJhY2siLCJyIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsInN0YXR1cyIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImUiLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0VGltZSIsInNwbGl0IiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkVycm9yIiwidGhpcyIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImNsYXNzTmFtZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjb250ZW50RG9jIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidHlwZSIsImxvYWRDdXN0b21Gb250IiwibG9hZEdvb2dsZUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJzdHlsZXNoZWV0Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImltYWdlcyIsIkltYWdlIiwic3JjIiwiZ2V0UXVlcnlQYXJhbWV0ZXIiLCJwYXJhbSIsInBhaXIiLCJxdWVyeSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwidmFycyIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJjb25maWciLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9kb25lIiwiX2Vycm9yTG9nIiwiX2dldEN1cnJlbnRGaWxlIiwiX2NsZWFyRXJyb3JUaW1lciIsImNsZWFyVGltZW91dCIsIl9lcnJvclRpbWVyIiwiX3N0YXJ0RXJyb3JUaW1lciIsInNsaWRlTnVtIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX3NsaWRlciIsImlzUmVhZHkiLCJnZXRDdXJyZW50U2xpZGUiLCJpbml0IiwiaXNTdG9yYWdlRmlsZSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZWwiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJzaG93IiwiX3BhcmFtcyIsImJhY2tncm91bmQiLCJPYmplY3QiLCJrZXlzIiwiYm9keSIsIl9nZXRJbWFnZUVsZW1lbnQiLCJzdG9yYWdlIiwiX2NvbmZpZ3VyYXRpb25UeXBlIiwiX3N0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJwb3NpdGlvbiIsInNjYWxlVG9GaXQiLCJzZXRTaW5nbGVJbWFnZSIsImltYWdlIiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRJbWFnZSIsIm9wYWNpdHkiLCJyZW1vdmVDaGlsZCIsImhhc1N0b3JhZ2VFcnJvciIsIl9zdG9yYWdlRXJyb3JGbGFnIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJoaWRlIiwiU2xpZGVyIiwib25GaWxlUmVmcmVzaCIsInJlZnJlc2giLCJfZXJyb3JGbGFnIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlVHlwZSIsIl8iLCJjbG9uZSIsIndpZHRoIiwiZ2V0SW50IiwiaGVpZ2h0Iiwib25TbGlkZXJSZWFkeSIsIl92aWV3ZXJQYXVzZWQiLCJwbGF5Iiwib25TbGlkZXJDb21wbGV0ZSIsInBhdXNlIiwiX2NvbmZpZ3VyYXRpb25Mb2dnZWQiLCJldmVudF9kZXRhaWxzIiwic2hvd0Vycm9yIiwibWVzc2FnZSIsImlzU3RvcmFnZUVycm9yIiwiZGVzdHJveSIsInN0b3AiLCJQcmVmcyIsImFkZFNsaWRlcyIsImxpc3QiLCJzbGlkZXMiLCJzbGlkZSIsInRvdGFsU2xpZGVzIiwiY3VycmVudEZpbGVzIiwiZmlsZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsInB1c2giLCJvblNsaWRlQ2hhbmdlZCIsImlzSW50ZXJhY3RpbmciLCJpc0xhc3RTbGlkZSIsInJlZnJlc2hTbGlkZXIiLCIkYXBpIiwiZGVzdHJveVNsaWRlciIsIm5ld0ZpbGVzIiwic2xpZGVJbmRleCIsIiQiLCJvZmYiLCJyZXZraWxsIiwiaGFuZGxlVXNlckFjdGl2aXR5Iiwic2xpZGVUaW1lciIsInJldm5leHQiLCJyZXZyZXN1bWUiLCJpc1BsYXlpbmciLCJoaWRlTmF2IiwiYXV0b0hpZGUiLCJuYXZUaW1lciIsImFkZENsYXNzIiwibmF2VGltZW91dCIsInJldmN1cnJlbnRzbGlkZSIsImZpbGVzIiwidHBCYW5uZXJDb250YWluZXIiLCJ0cEJhbm5lciIsInVsIiwiaXNMb2FkaW5nIiwicmV2b2x1dGlvbiIsImhpZGVUaHVtYnMiLCJoaWRlVGltZXJCYXIiLCJuYXZpZ2F0aW9uVHlwZSIsIm9uSG92ZXJTdG9wIiwidG91Y2hlbmFibGVkIiwic3RhcnR3aWR0aCIsInN0YXJ0aGVpZ2h0Iiwib24iLCJyZW1vdmVDbGFzcyIsInJlc3VtZSIsInJldnNob3dzbGlkZSIsInJldnBhdXNlIiwiZGV0YWlsIiwiX2luaXRpYWxMb2FkIiwiY2hhbmdlZCIsImVycm9yX2RldGFpbHMiLCJjb2RlIiwiaW1nIiwiZXJyb3IiLCJjdXJyZW50VGFyZ2V0IiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJnbyIsInByb2Nlc3NVcmwiLCJhZGRlZCIsIl9maWxlcyIsIm5hbWUiLCJmaW5kIiwiZGVsZXRlZCIsInJlamVjdCIsInNvcnRCeSIsImhhbmRsZVJlc3BvbnNlIiwiX2lzTG9hZGluZyIsIl90aW1lciIsIl9nZXRGaWxlIiwib21pdENhY2hlQnVzdGVyIiwicmlzZUNhY2hlIiwiX3VybCIsIl9zdGFydFJlZnJlc2hJbnRlcnZhbCIsIl9yZWZyZXNoSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3JlZnJlc2hEdXJhdGlvbiIsInNlbGVjdG9yIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJfaW5pdCIsIndhcm4iLCJfYWN0aXZlIiwiZmlyc3RDaGlsZCIsInZpc2liaWxpdHkiLCJwIiwiaW5uZXJIVE1MIiwiY29uZmlndXJlIiwibmFtZXMiLCJ2YWx1ZXMiLCJtb2RlIiwiQXJyYXkiLCJpc0FycmF5IiwicG9seW1lclJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlkIiwicmVnaXN0ZXIiLCJvbmNvbnRleHRtZW51Iiwib25tb3VzZWRvd24iLCJfZ2FxIiwiZ2EiLCJhc3luYyIsInByb3RvY29sIiwicyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwi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LFVBQVkzQixTQUFTaUMsU0FBU3NNLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUl4TyxTQUFTc0IscUJBQXFCLFVBQVUsRUFBSWtOLEdBQUVDLFdBQVdDLGFBQWFMLEVBQUlHIiwiZmlsZSI6ImpzL3dpZGdldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgV0lER0VUX0NPTU1PTl9DT05GSUcgPSB7XG4gIEFVVEhfUEFUSF9VUkw6IFwidjEvd2lkZ2V0L2F1dGhcIixcbiAgTE9HR0VSX0NMSUVOVF9JRDogXCIxMDg4NTI3MTQ3MTA5LTZxMW8ydnRpaG4zNDI5MnBqdDRja2htaGNrMHJrMG83LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIsXG4gIExPR0dFUl9DTElFTlRfU0VDUkVUOiBcIm5sWnlyY1BMZzZvRXdPOWY5V2ZuMjlXaFwiLFxuICBMT0dHRVJfUkVGUkVTSF9UT0tFTjogXCIxL3h6dDRrd3pFMUg3VzlWbktCOGNBYUN4NnpiNEVzNG5LRW9xYVlIZFREMTVJZ09ySkR0ZHVuNnpLNlhpQVRDS1RcIixcbiAgU1RPUkFHRV9FTlY6IFwicHJvZFwiLFxuICBTVE9SRV9VUkw6IFwiaHR0cHM6Ly9zdG9yZS1kb3QtcnZhc2VydmVyMi5hcHBzcG90LmNvbS9cIlxufTtcbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgY29tcGFueUlkID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEluc2VydERhdGFcIjogZ2V0SW5zZXJ0RGF0YSxcbiAgICBcImdldEZpbGVGb3JtYXRcIjogZ2V0RmlsZUZvcm1hdCxcbiAgICBcImxvZ0V2ZW50XCI6IGxvZ0V2ZW50LFxuICAgIFwic2V0SWRzXCI6IHNldElkc1xuICB9O1xufSkoKTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyID0gKGZ1bmN0aW9uKHV0aWxzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBSRUZSRVNIX1VSTCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuP2NsaWVudF9pZD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfSUQgK1xuICAgICAgXCImY2xpZW50X3NlY3JldD1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9DTElFTlRfU0VDUkVUICtcbiAgICAgIFwiJnJlZnJlc2hfdG9rZW49XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfUkVGUkVTSF9UT0tFTiArXG4gICAgICBcIiZncmFudF90eXBlPXJlZnJlc2hfdG9rZW5cIjtcblxuICB2YXIgc2VydmljZVVybCA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYmlncXVlcnkvdjIvcHJvamVjdHMvY2xpZW50LXNpZGUtZXZlbnRzL2RhdGFzZXRzL1dpZGdldF9FdmVudHMvdGFibGVzL1RBQkxFX0lEL2luc2VydEFsbFwiLFxuICAgIHRocm90dGxlID0gZmFsc2UsXG4gICAgdGhyb3R0bGVEZWxheSA9IDEwMDAsXG4gICAgbGFzdEV2ZW50ID0gXCJcIixcbiAgICByZWZyZXNoRGF0ZSA9IDAsXG4gICAgdG9rZW4gPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZnJlc2hUb2tlbihjYikge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmIChuZXcgRGF0ZSgpIC0gcmVmcmVzaERhdGUgPCAzNTgwMDAwKSB7XG4gICAgICByZXR1cm4gY2Ioe30pO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiUE9TVFwiLCBSRUZSRVNIX1VSTCwgdHJ1ZSk7XG4gICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3AgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG5cbiAgICAgIGNiKHsgdG9rZW46IHJlc3AuYWNjZXNzX3Rva2VuLCByZWZyZXNoZWRBdDogbmV3IERhdGUoKSB9KTtcbiAgICB9O1xuXG4gICAgeGhyLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVGhyb3R0bGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIHRocm90dGxlICYmIChsYXN0RXZlbnQgPT09IGV2ZW50KTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gbG9nKHRhYmxlTmFtZSwgcGFyYW1zKSB7XG4gICAgaWYgKCF0YWJsZU5hbWUgfHwgIXBhcmFtcyB8fCAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgIXBhcmFtcy5ldmVudCkgfHxcbiAgICAgIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiBpc1Rocm90dGxlZChwYXJhbXMuZXZlbnQpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm90dGxlID0gdHJ1ZTtcbiAgICBsYXN0RXZlbnQgPSBwYXJhbXMuZXZlbnQ7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm90dGxlID0gZmFsc2U7XG4gICAgfSwgdGhyb3R0bGVEZWxheSk7XG5cbiAgICBmdW5jdGlvbiBpbnNlcnRXaXRoVG9rZW4ocmVmcmVzaERhdGEpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgaW5zZXJ0RGF0YSwgdXJsO1xuXG4gICAgICB1cmwgPSBzZXJ2aWNlVXJsLnJlcGxhY2UoXCJUQUJMRV9JRFwiLCB0YWJsZU5hbWUpO1xuICAgICAgcmVmcmVzaERhdGUgPSByZWZyZXNoRGF0YS5yZWZyZXNoZWRBdCB8fCByZWZyZXNoRGF0ZTtcbiAgICAgIHRva2VuID0gcmVmcmVzaERhdGEudG9rZW4gfHwgdG9rZW47XG4gICAgICBpbnNlcnREYXRhID0gdXRpbHMuZ2V0SW5zZXJ0RGF0YShwYXJhbXMpO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGRhdGEuXG4gICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCBcIkJlYXJlciBcIiArIHRva2VuKTtcblxuICAgICAgaWYgKHBhcmFtcy5jYiAmJiB0eXBlb2YgcGFyYW1zLmNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgeGhyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBhcmFtcy5jYih4aHIucmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShpbnNlcnREYXRhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZnJlc2hUb2tlbihpbnNlcnRXaXRoVG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImxvZ1wiOiBsb2dcbiAgfTtcbn0pKFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzKTtcbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZSA9IChmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBCQVNFX0NBQ0hFX1VSTCA9IFwiLy9sb2NhbGhvc3Q6OTQ5NC9cIjtcblxuICB2YXIgX3BpbmdSZWNlaXZlZCA9IGZhbHNlLFxuICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHBpbmcoY2FsbGJhY2spIHtcbiAgICB2YXIgciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHIub3BlbihcIkdFVFwiLCBCQVNFX0NBQ0hFX1VSTCArIFwicGluZz9jYWxsYmFjaz1fXCIsIHRydWUpO1xuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAvLyBzYXZlIHRoaXMgcmVzdWx0IGZvciB1c2UgaW4gZ2V0RmlsZSgpXG4gICAgICAgICAgX3BpbmdSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZihyLnN0YXR1cyA9PT0gMjAwKXtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKHRydWUsIHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmdcIik7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhdWdodCBleGNlcHRpb246IFwiLCBlLmRlc2NyaXB0aW9uKTtcbiAgICAgIH1cblxuICAgIH07XG4gICAgci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGaWxlKGZpbGVVcmwsIGNhbGxiYWNrLCBub2NhY2hlYnVzdGVyKSB7XG4gICAgaWYgKCFmaWxlVXJsIHx8ICFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbGVSZXF1ZXN0KCkge1xuICAgICAgdmFyIHVybCwgc3RyLCBzZXBhcmF0b3I7XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIHVybCB3aXRoIGNhY2hlYnVzdGVyIG9yIG5vdFxuICAgICAgICB1cmwgPSAobm9jYWNoZWJ1c3RlcikgPyBCQVNFX0NBQ0hFX1VSTCArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKSA6XG4gICAgICAgIEJBU0VfQ0FDSEVfVVJMICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG5vY2FjaGVidXN0ZXIpIHtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IGZpbGVVcmwuc3BsaXQoXCI/XCIpO1xuICAgICAgICAgIHNlcGFyYXRvciA9IChzdHIubGVuZ3RoID09PSAxKSA/IFwiP1wiIDogXCImXCI7XG4gICAgICAgICAgdXJsID0gZmlsZVVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYWtlUmVxdWVzdChcIkhFQURcIiwgdXJsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlUmVxdWVzdChtZXRob2QsIHVybCkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICByZXF1ZXN0ID0ge1xuICAgICAgICAgIHhocjogeGhyLFxuICAgICAgICAgIHVybDogdXJsXG4gICAgICAgIH07XG5cbiAgICAgIGlmIChfaXNDYWNoZVJ1bm5pbmcpIHtcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgfHwgMDtcblxuICAgICAgICAgIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBtYXkgbm90IHN1cHBvcnQgSEVBRCByZXF1ZXN0LiBGYWxsYmFjayB0byBhIEdFVCByZXF1ZXN0LlxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgICAgbWFrZVJlcXVlc3QoXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QsIG5ldyBFcnJvcihcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIHN0YXR1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBSaXNlIENhY2hlIGlzIG5vdCBydW5uaW5nIChwcmV2aWV3KSwgc2tpcCBIRUFEIHJlcXVlc3QgYW5kIGV4ZWN1dGUgY2FsbGJhY2sgaW1tZWRpYXRlbHlcbiAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZmlsZVJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlsZVJlcXVlc3QoKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0RmlsZTogZ2V0RmlsZSxcbiAgICBwaW5nOiBwaW5nXG4gIH07XG5cbn0pKCk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGdldEZvbnRDc3NTdHlsZShjbGFzc05hbWUsIGZvbnRPYmopIHtcbiAgICB2YXIgZmFtaWx5ID0gXCJmb250LWZhbWlseTpcIiArIGZvbnRPYmouZm9udC5mYW1pbHkgKyBcIjsgXCI7XG4gICAgdmFyIGNvbG9yID0gXCJjb2xvcjogXCIgKyAoZm9udE9iai5jb2xvciA/IGZvbnRPYmouY29sb3IgOiBmb250T2JqLmZvcmVjb2xvcikgKyBcIjsgXCI7XG4gICAgdmFyIHNpemUgPSBcImZvbnQtc2l6ZTogXCIgKyAoZm9udE9iai5zaXplLmluZGV4T2YoXCJweFwiKSA9PT0gLTEgPyBmb250T2JqLnNpemUgKyBcInB4OyBcIiA6IGZvbnRPYmouc2l6ZSArIFwiOyBcIik7XG4gICAgdmFyIHdlaWdodCA9IFwiZm9udC13ZWlnaHQ6IFwiICsgKGZvbnRPYmouYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIGl0YWxpYyA9IFwiZm9udC1zdHlsZTogXCIgKyAoZm9udE9iai5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIikgKyBcIjsgXCI7XG4gICAgdmFyIHVuZGVybGluZSA9IFwidGV4dC1kZWNvcmF0aW9uOiBcIiArIChmb250T2JqLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIikgKyBcIjsgXCI7XG4gICAgdmFyIGhpZ2hsaWdodCA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyAoZm9udE9iai5oaWdobGlnaHRDb2xvciA/IGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgOiBmb250T2JqLmJhY2tjb2xvcikgKyBcIjsgXCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjb250ZW50RG9jKSB7XG4gICAgc2V0dGluZ3MuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpZiAoaXRlbS5jbGFzcyAmJiBpdGVtLmZvbnRTZXR0aW5nKSB7XG4gICAgICAgIGFkZENTU1J1bGVzKFsgZ2V0Rm9udENzc1N0eWxlKGl0ZW0uY2xhc3MsIGl0ZW0uZm9udFNldHRpbmcpIF0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUpIHtcbiAgICAgICAgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlID09PSBcImN1c3RvbVwiICYmIGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHkgJiZcbiAgICAgICAgICBpdGVtLmZvbnRTZXR0aW5nLmZvbnQudXJsKSB7XG4gICAgICAgICAgbG9hZEN1c3RvbUZvbnQoaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSwgaXRlbS5mb250U2V0dGluZy5mb250LnVybCxcbiAgICAgICAgICAgIGNvbnRlbnREb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0uZm9udFNldHRpbmcuZm9udC50eXBlID09PSBcImdvb2dsZVwiICYmIGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHkpIHtcbiAgICAgICAgICBsb2FkR29vZ2xlRm9udChpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5LCBjb250ZW50RG9jKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnQoZmFtaWx5LCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpO1xuICAgIHN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHQvY3NzXCIpO1xuXG4gICAgLy8gc3BsaXQgdG8gYWNjb3VudCBmb3IgZmFtaWx5IHZhbHVlIGNvbnRhaW5pbmcgYSBmYWxsYmFjayAoZWcuIEFsYWRpbixzYW5zLXNlcmlmKVxuICAgIHN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIiArIGZhbWlseS5zcGxpdChcIixcIilbMF0pO1xuXG4gICAgaWYgKHN0eWxlc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIGNvbnRlbnREb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKHN0eWxlc2hlZXQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcihwYXJhbSkge1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuICAgICAgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDQwNDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGUgZmlsZSBkb2VzIG5vdCBleGlzdCBvciBjYW5ub3QgYmUgYWNjZXNzZWQuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDc6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgaXMgbm90IGVub3VnaCBkaXNrIHNwYWNlIHRvIHNhdmUgdGhlIGZpbGUgb24gUmlzZSBDYWNoZS5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIHdhcyBhIHByb2JsZW0gcmV0cmlldmluZyB0aGUgZmlsZSBmcm9tIFJpc2UgQ2FjaGUuXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0UXVlcnlQYXJhbWV0ZXI6IGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldEZvbnRDc3NTdHlsZTogIGdldEZvbnRDc3NTdHlsZSxcbiAgICBhZGRDU1NSdWxlczogICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICBsb2FkRm9udHMsXG4gICAgbG9hZEN1c3RvbUZvbnQ6ICAgbG9hZEN1c3RvbUZvbnQsXG4gICAgbG9hZEdvb2dsZUZvbnQ6ICAgbG9hZEdvb2dsZUZvbnQsXG4gICAgcHJlbG9hZEltYWdlczogICAgcHJlbG9hZEltYWdlcyxcbiAgICBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2U6IGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZVxuICB9O1xufSkoKTtcblxuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG52YXIgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCJcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZSA9IChmdW5jdGlvbiAoZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX21vZGU7XG5cbiAgdmFyIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgX21lc3NhZ2UgPSBudWxsLFxuICAgIF9wYXJhbXMgPSBudWxsO1xuXG4gIHZhciBfc3RvcmFnZSA9IG51bGwsXG4gICAgX25vblN0b3JhZ2UgPSBudWxsLFxuICAgIF9zbGlkZXIgPSBudWxsO1xuXG4gIHZhciBfY3VycmVudEZpbGVzID0gW107XG5cbiAgdmFyIF9lcnJvckxvZyA9IG51bGwsXG4gICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gbnVsbCxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlLFxuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX2NvbmZpZ3VyYXRpb25Mb2dnZWQgPSBmYWxzZTtcblxuICB2YXIgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuXG4gICAgLy8gQW55IGVycm9ycyBuZWVkIHRvIGJlIGxvZ2dlZCBiZWZvcmUgdGhlIGRvbmUgZXZlbnQuXG4gICAgaWYgKF9lcnJvckxvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoX2Vycm9yTG9nLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBsb2cgXCJkb25lXCIgZXZlbnRcbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJkb25lXCIsIFwiZmlsZV91cmxcIjogX2dldEN1cnJlbnRGaWxlKCkgfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyRXJyb3JUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoX2Vycm9yVGltZXIpO1xuICAgIF9lcnJvclRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydEVycm9yVGltZXIoKSB7XG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgX2Vycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG5vdGlmeSBWaWV3ZXIgd2lkZ2V0IGlzIGRvbmVcbiAgICAgIF9kb25lKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0Q3VycmVudEZpbGUoKSB7XG4gICAgdmFyIHNsaWRlTnVtID0gLTE7XG5cbiAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbMF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICAgIC8vIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgcGxheWVkIHNsaWRlXG4gICAgICAgIHNsaWRlTnVtID0gX3NsaWRlci5nZXRDdXJyZW50U2xpZGUoKTtcblxuICAgICAgICBpZiAoc2xpZGVOdW0gIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbc2xpZGVOdW1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgaXNTdG9yYWdlRmlsZTtcblxuICAgIC8vIGNyZWF0ZSBpbnN0YW5jZSBvZiBtZXNzYWdlXG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUNvbnRhaW5lclwiKSk7XG5cbiAgICAvLyBzaG93IHdhaXQgbWVzc2FnZVxuICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIGltYWdlIGlzIGRvd25sb2FkZWQuXCIpO1xuXG4gICAgLy8gbGVnYWN5XG4gICAgaWYgKF9wYXJhbXMuYmFja2dyb3VuZCAmJiBPYmplY3Qua2V5cyhfcGFyYW1zLmJhY2tncm91bmQpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IF9wYXJhbXMuYmFja2dyb3VuZC5jb2xvcjtcbiAgICB9XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIGltYWdlIDxkaXY+IHdpdGhpbiB0aGUgY29udGFpbmVyIDxkaXY+XG4gICAgICBlbCA9IF9nZXRJbWFnZUVsZW1lbnQoKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIGlzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoX3BhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApO1xuXG4gICAgICBpZiAoIWlzU3RvcmFnZUZpbGUpIHtcbiAgICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJjdXN0b21cIjtcblxuICAgICAgICBfbm9uU3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLk5vblN0b3JhZ2UoX3BhcmFtcyk7XG4gICAgICAgIF9ub25TdG9yYWdlLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jb25maWd1cmF0aW9uVHlwZSA9IFwic3RvcmFnZSBmaWxlXCI7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZpbGUgaW5zdGFuY2VcbiAgICAgICAgX3N0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlRmlsZShfcGFyYW1zKTtcbiAgICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gY3JlYXRlIHRoZSBzbGlkZXIgY29udGFpbmVyIDxkaXY+IHdpdGhpbiB0aGUgY29udGFpbmVyIDxkaXY+XG4gICAgICBlbC5jbGFzc05hbWUgPSBcInRwLWJhbm5lci1jb250YWluZXJcIjtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJzdG9yYWdlIGZvbGRlclwiO1xuXG4gICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZm9sZGVyIGluc3RhbmNlXG4gICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGb2xkZXIoX3BhcmFtcyk7XG4gICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgfVxuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0SW1hZ2VFbGVtZW50KCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImltYWdlXCIpO1xuICAgIGVsLmNsYXNzTmFtZSA9IF9wYXJhbXMucG9zaXRpb247XG4gICAgZWwuY2xhc3NOYW1lID0gX3BhcmFtcy5zY2FsZVRvRml0ID8gZWwuY2xhc3NOYW1lICsgXCIgc2NhbGUtdG8tZml0XCIgOiBlbC5jbGFzc05hbWU7XG5cbiAgICByZXR1cm4gZWw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTaW5nbGVJbWFnZSh1cmwpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWluZXIgI2ltYWdlXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBlbCA9IF9nZXRJbWFnZUVsZW1lbnQoKTtcblxuICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiICsgdXJsICsgXCInKVwiO1xuICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgZWwuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGltYWdlKTtcbiAgICAgIH0sIDMwMDApO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoYXNTdG9yYWdlRXJyb3IoKSB7XG4gICAgcmV0dXJuIF9zdG9yYWdlRXJyb3JGbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudChnZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZUluaXQodXJscykge1xuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhIHN0cmluZ1xuICAgICAgX2N1cnJlbnRGaWxlc1swXSA9IHVybHM7XG5cbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG5cbiAgICAgIC8vIGNyZWF0ZSBzbGlkZXIgaW5zdGFuY2VcbiAgICAgIF9zbGlkZXIgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TbGlkZXIoX3BhcmFtcyk7XG4gICAgICBfc2xpZGVyLmluaXQodXJscyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheSBvZiB1cmxzXG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcblxuICAgICAgX3NsaWRlci5yZWZyZXNoKF9jdXJyZW50RmlsZXMpO1xuICAgIH1cblxuICAgIC8vIGluIGNhc2UgcmVmcmVzaGVkIGZpbGUgZml4ZXMgYW4gZXJyb3Igd2l0aCBwcmV2aW91cyBmaWxlLCBlbnN1cmUgZmxhZyBpcyByZW1vdmVkIHNvIHBsYXliYWNrIGlzIGF0dGVtcHRlZCBhZ2FpblxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9lcnJvckxvZyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMsIG1vZGVUeXBlKSB7XG4gICAgX3BhcmFtcyA9IF8uY2xvbmUoYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgX21vZGUgPSBtb2RlVHlwZTtcblxuICAgIF9wYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9wYXJhbXMuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG4gICAgaW5pdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TbGlkZXJSZWFkeSgpIHtcbiAgICBfbWVzc2FnZS5oaWRlKCk7XG5cbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIF9zbGlkZXIucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVyQ29tcGxldGUoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gICAgLy8gaW4gY2FzZSBlcnJvciB0aW1lciBzdGlsbCBydW5uaW5nIChubyBjb25kaXRpb25hbCBjaGVjayBvbiBlcnJvckZsYWcsIGl0IG1heSBoYXZlIGJlZW4gcmVzZXQgaW4gb25GaWxlUmVmcmVzaClcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFfY29uZmlndXJhdGlvbkxvZ2dlZCkge1xuICAgICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwiY29uZmlndXJhdGlvblwiLCBcImV2ZW50X2RldGFpbHNcIjogX2NvbmZpZ3VyYXRpb25UeXBlIH0sIGZhbHNlKTtcbiAgICAgIF9jb25maWd1cmF0aW9uTG9nZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJwbGF5XCIsIFwiZmlsZV91cmxcIjogX2dldEN1cnJlbnRGaWxlKCkgfSwgZmFsc2UpO1xuXG4gICAgaWYgKF9lcnJvckZsYWcpIHtcbiAgICAgIF9zdGFydEVycm9yVGltZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcImltYWdlX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIGlzU3RvcmFnZUVycm9yKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSB0eXBlb2YgaXNTdG9yYWdlRXJyb3IgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgLy8gZGVzdHJveSBzbGlkZXIgaWYgaXQgZXhpc3RzIGFuZCBwcmV2aW91c2x5IG5vdGlmaWVkIHJlYWR5XG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvblNsaWRlckNvbXBsZXRlXCI6IG9uU2xpZGVyQ29tcGxldGUsXG4gICAgXCJvblNsaWRlclJlYWR5XCI6IG9uU2xpZGVyUmVhZHksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcImdldFRhYmxlTmFtZVwiOiBnZXRUYWJsZU5hbWUsXG4gICAgXCJzaG93RXJyb3JcIjogc2hvd0Vycm9yLFxuICAgIFwic3RvcFwiOiBzdG9wXG4gIH07XG59KShnYWRnZXRzKTtcblxuLyogZ2xvYmFsIF8gKi9cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlNsaWRlciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHRvdGFsU2xpZGVzID0gMCxcbiAgICAkYXBpID0gbnVsbCxcbiAgICBjdXJyZW50RmlsZXMgPSBudWxsLFxuICAgIG5ld0ZpbGVzID0gbnVsbCxcbiAgICBuYXZUaW1lciA9IG51bGwsXG4gICAgc2xpZGVUaW1lciA9IG51bGwsXG4gICAgaXNMYXN0U2xpZGUgPSBmYWxzZSxcbiAgICByZWZyZXNoU2xpZGVyID0gZmFsc2UsXG4gICAgaXNMb2FkaW5nID0gdHJ1ZSxcbiAgICBpc1BsYXlpbmcgPSBmYWxzZSxcbiAgICBpc0ludGVyYWN0aW5nID0gZmFsc2UsXG4gICAgbmF2VGltZW91dCA9IDMwMDA7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkU2xpZGVzKCkge1xuICAgIHZhciBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cC1iYW5uZXIgdWxcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHNsaWRlcyA9IFtdLFxuICAgICAgc2xpZGUgPSBudWxsLFxuICAgICAgaW1hZ2UgPSBudWxsLFxuICAgICAgcG9zaXRpb24gPSBcIlwiO1xuXG4gICAgdG90YWxTbGlkZXMgPSBjdXJyZW50RmlsZXMubGVuZ3RoO1xuXG4gICAgY3VycmVudEZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICAgIC8vIFRyYW5zaXRpb25cbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtdHJhbnNpdGlvblwiLCBcImZhZGVcIik7XG4gICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1hc3RlcnNwZWVkXCIsIHBhcmFtcy50cmFuc2l0aW9uICogMTAwMCk7IC8vIFNldCB0aGUgdGltZSBvZiB0aGUgdHJhbnNpdGlvblxuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1kZWxheVwiLCBwYXJhbXMuZHVyYXRpb24gKiAxMDAwKTtcblxuICAgICAgaW1hZ2Uuc3JjID0gZmlsZS51cmw7XG5cbiAgICAgIC8vIEFsaWdubWVudFxuICAgICAgc3dpdGNoIChwYXJhbXMucG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBcInRvcC1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b3AtY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvcC1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCB0b3BcIjtcbiAgICAgIH1cblxuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ3Bvc2l0aW9uXCIsIHBvc2l0aW9uKTtcblxuICAgICAgLy8gU2NhbGUgdG8gRml0XG4gICAgICBpZiAocGFyYW1zLnNjYWxlVG9GaXQpIHtcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ2ZpdFwiLCBcImNvbnRhaW5cIik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ2ZpdFwiLCBcIm5vcm1hbFwiKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIH0pO1xuXG4gICAgc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHNsaWRlKTtcbiAgICB9KTtcblxuICAgIGxpc3QuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TbGlkZUNoYW5nZWQoZGF0YSkge1xuICAgIGlmIChpc0ludGVyYWN0aW5nKSB7XG4gICAgICBwYXVzZSgpO1xuICAgIH1cbiAgICAvLyBEb24ndCBjYWxsIFwiZG9uZVwiIGlmIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2xpZGVzaG93LlxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzTGFzdFNsaWRlKSB7XG4gICAgICAgIGlzTGFzdFNsaWRlID0gZmFsc2U7XG4gICAgICAgIHBhdXNlKCk7XG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25TbGlkZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgIGlmIChyZWZyZXNoU2xpZGVyKSB7XG4gICAgICAgICAgLy8gRGVzdHJveSBhbmQgcmVjcmVhdGUgdGhlIHNsaWRlciBpZiB0aGUgZmlsZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAgIGlmICgkYXBpKSB7XG4gICAgICAgICAgICBkZXN0cm95U2xpZGVyKCk7XG4gICAgICAgICAgICBpbml0KG5ld0ZpbGVzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZyZXNoU2xpZGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zbGlkZUluZGV4ID09PSB0b3RhbFNsaWRlcykge1xuICAgICAgaXNMYXN0U2xpZGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lTbGlkZXIoKSB7XG4gICAgLy8gUmVtb3ZlIGV2ZW50IGhhbmRsZXJzLlxuICAgICQoXCJib2R5XCIpLm9mZihcInRvdWNoZW5kXCIpO1xuICAgICRhcGkub2ZmKFwicmV2b2x1dGlvbi5zbGlkZS5vbmxvYWRlZFwiKTtcbiAgICAkYXBpLm9mZihcInJldm9sdXRpb24uc2xpZGUub25jaGFuZ2VcIik7XG5cbiAgICAvLyBMZXQgdGhlIHNsaWRlciBjbGVhbiB1cCBhZnRlciBpdHNlbGYuXG4gICAgJGFwaS5yZXZraWxsKCk7XG4gICAgJGFwaSA9IG51bGw7XG4gIH1cblxuICAvLyBVc2VyIGhhcyBpbnRlcmFjdGVkIHdpdGggdGhlIHNsaWRlc2hvdy5cbiAgZnVuY3Rpb24gaGFuZGxlVXNlckFjdGl2aXR5KCkge1xuICAgIGlzSW50ZXJhY3RpbmcgPSB0cnVlO1xuICAgIGNsZWFyVGltZW91dChzbGlkZVRpbWVyKTtcblxuICAgIC8vIE1vdmUgdG8gbmV4dCBzbGlkZSBhbmQgcmVzdW1lIHRoZSBzbGlkZXNob3cgYWZ0ZXIgYSBkZWxheS5cbiAgICBzbGlkZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRhcGkucmV2bmV4dCgpO1xuICAgICAgJGFwaS5yZXZyZXN1bWUoKTtcblxuICAgICAgaXNJbnRlcmFjdGluZyA9IGZhbHNlO1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9LCBwYXJhbXMucGF1c2UgKiAxMDAwKTtcblxuICAgIGhpZGVOYXYoKTtcbiAgfVxuXG4gIC8vIEhpZGUgdGhlIG5hdmlnYXRpb24gYWZ0ZXIgYSBkZWxheS5cbiAgZnVuY3Rpb24gaGlkZU5hdigpIHtcbiAgICBpZiAocGFyYW1zLmF1dG9IaWRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQobmF2VGltZXIpO1xuXG4gICAgICBuYXZUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5hZGRDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgICB9LCBuYXZUaW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICogIFRPRE86IFRlc3Qgd2hhdCBoYXBwZW5zIHdoZW4gZm9sZGVyIGlzbid0IGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAoJGFwaSkge1xuICAgICAgaXNMYXN0U2xpZGUgPSBmYWxzZTtcbiAgICAgIHBhdXNlKCk7XG4gICAgICBkZXN0cm95U2xpZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudFNsaWRlKCkge1xuICAgIGlmICgkYXBpICYmIGN1cnJlbnRGaWxlcyAmJiBjdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuICRhcGkucmV2Y3VycmVudHNsaWRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdChmaWxlcykge1xuICAgIHZhciB0cEJhbm5lckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHAtYmFubmVyLWNvbnRhaW5lclwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgdHBCYW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG5cbiAgICB0cEJhbm5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRwLWJhbm5lclwiKTtcbiAgICB0cEJhbm5lci5hcHBlbmRDaGlsZCh1bCk7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodHBCYW5uZXIpO1xuICAgIHRwQmFubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgIGN1cnJlbnRGaWxlcyA9IF8uY2xvbmUoZmlsZXMpO1xuXG4gICAgYWRkU2xpZGVzKCk7XG5cbiAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICRhcGkgPSAkKFwiLnRwLWJhbm5lclwiKS5yZXZvbHV0aW9uKHtcbiAgICAgIFwiaGlkZVRodW1ic1wiOiAwLFxuICAgICAgXCJoaWRlVGltZXJCYXJcIjogXCJvblwiLFxuICAgICAgXCJuYXZpZ2F0aW9uVHlwZVwiOiBcIm5vbmVcIixcbiAgICAgIFwib25Ib3ZlclN0b3BcIjogXCJvZmZcIixcbiAgICAgIFwidG91Y2hlbmFibGVkXCI6IFwib2ZmXCIsXG4gICAgICBcInN0YXJ0d2lkdGhcIjogcGFyYW1zLndpZHRoLFxuICAgICAgXCJzdGFydGhlaWdodFwiOiBwYXJhbXMuaGVpZ2h0XG4gICAgfSk7XG5cbiAgICAkYXBpLm9uKFwicmV2b2x1dGlvbi5zbGlkZS5vbmxvYWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFBhdXNlIHNsaWRlc2hvdyBzaW5jZSBpdCB3aWxsIGF1dG9wbGF5IGFuZCB0aGlzIGlzIG5vdCBjb25maWd1cmFibGUuXG4gICAgICBwYXVzZSgpO1xuICAgICAgaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLm9uU2xpZGVyUmVhZHkoKTtcbiAgICB9KTtcblxuICAgICRhcGkub24oXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIsIGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICBvblNsaWRlQ2hhbmdlZChkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFN3aXBlIHRoZSBzbGlkZXIuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1iYW5uZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVVc2VyQWN0aXZpdHkoKTtcbiAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5yZW1vdmVDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgfSk7XG5cbiAgICAvLyBUb3VjaCB0aGUgbmF2aWdhdGlvbiBhcnJvd3MuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaGFuZGxlVXNlckFjdGl2aXR5KCk7XG4gICAgfSk7XG5cbiAgICBoaWRlTmF2KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1JlYWR5KCkge1xuICAgIHJldHVybiAhaXNMb2FkaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoJGFwaSkge1xuICAgICAgLy8gUmVzZXQgc2xpZGVzaG93IHRvIGZpcnN0IHNsaWRlLlxuICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcInJlc3VtZVwiKSAmJiAhcGFyYW1zLnJlc3VtZSkge1xuICAgICAgICAkYXBpLnJldnNob3dzbGlkZSgwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgICAgJGFwaS5yZXZyZXN1bWUoKTtcbiAgICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpZiAoJGFwaSAmJiBpc1BsYXlpbmcpIHtcbiAgICAgICRhcGkucmV2cGF1c2UoKTtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2goZmlsZXMpIHtcbiAgICAvLyBTdGFydCBwcmVsb2FkaW5nIGltYWdlcyByaWdodCBhd2F5LlxuICAgIFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5wcmVsb2FkSW1hZ2VzKGZpbGVzKTtcbiAgICBuZXdGaWxlcyA9IF8uY2xvbmUoZmlsZXMpO1xuICAgIHJlZnJlc2hTbGlkZXIgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEN1cnJlbnRTbGlkZVwiOiBnZXRDdXJyZW50U2xpZGUsXG4gICAgXCJkZXN0cm95XCI6IGRlc3Ryb3ksXG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJpc1JlYWR5XCI6IGlzUmVhZHksXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInJlZnJlc2hcIjogcmVmcmVzaFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGNvbmZpZyAqL1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZpbGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHVybDtcblxuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIHVybCA9IGUuZGV0YWlsLnVybC5yZXBsYWNlKFwiJ1wiLCBcIlxcXFwnXCIpO1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eVxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaCh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgICAgIGlmIChSaXNlVmlzaW9uLkltYWdlLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgc28gdGhlIFdpZGdldCBjYW4gZXZlbnR1YWxseSBwbGF5IHZpZGVvIGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1maWxlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGZpbGUgbm90IGZvdW5kXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogZS5kZXRhaWxcbiAgICAgIH0sXG4gICAgICAgIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VcIik7XG5cbiAgICAgIC8vIGNsZWFyIHRoZSBleGlzdGluZyBpbWFnZVxuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBpbWFnZSBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZmlsZS10aHJvdHRsZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZmlsZSB0aHJvdHRsZWRcIixcbiAgICAgICAgXCJmaWxlX3VybFwiOiBlLmRldGFpbFxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgaW1hZ2UgaXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXMsXG4gICAgICAgICAgXCJmaWxlX3VybFwiOiBmaWxlVXJsXG4gICAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogZmlsZVVybFxuICAgICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIHBhcmFtcy5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgY29uZmlnLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGb2xkZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWUsXG4gICAgX2ZpbGVzID0gW10sXG4gICAgX3RpbWVyID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVXJsKGUpIHtcbiAgICB2YXIgZmlsZTtcblxuICAgIGlmIChlLmRldGFpbCkge1xuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBhZGRlZC5cbiAgICAgIGlmIChlLmRldGFpbC5hZGRlZCkge1xuICAgICAgICBfZmlsZXMucHVzaCh7XG4gICAgICAgICAgXCJuYW1lXCI6IGUuZGV0YWlsLm5hbWUsXG4gICAgICAgICAgXCJ1cmxcIjogZS5kZXRhaWwudXJsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgaWYgKGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgZmlsZSA9IF8uZmluZChfZmlsZXMsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZS5kZXRhaWwubmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmlsZS51cmwgPSBlLmRldGFpbC51cmw7XG4gICAgICB9XG5cbiAgICAgIC8vIEltYWdlIGhhcyBiZWVuIGRlbGV0ZWQuXG4gICAgICBpZiAoZS5kZXRhaWwuZGVsZXRlZCkge1xuICAgICAgICBfZmlsZXMgPSBfLnJlamVjdChfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBlLmRldGFpbC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlsZXMgPSBfLnNvcnRCeShfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIHJldHVybiBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKGUpIHtcbiAgICBwcm9jZXNzVXJsKGUpO1xuXG4gICAgLy8gSW1hZ2UgaGFzIGJlZW4gYWRkZWQuXG4gICAgaWYgKGUuZGV0YWlsLmFkZGVkKSB7XG4gICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAvLyBOZWVkIHRvIHdhaXQgZm9yIGF0IGxlYXN0IDIgaW1hZ2VzIHRvIGxvYWQgYmVmb3JlIGluaXRpYWxpemluZyB0aGUgc2xpZGVyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSByZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlIGV2ZW50IHdpbGwgbmV2ZXIgZmlyZSwgYW5kIHRoaXMgZXZlbnQgaXMgdXNlZFxuICAgICAgICAvLyB0byBjaGVjayB3aGV0aGVyIG9yIG5vdCB0aGUgc2xpZGVyIHNob3VsZCByZWZyZXNoLlxuICAgICAgICBpZiAoX2ZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RpbWVyKTtcbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQoX2ZpbGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYSB0aW1lb3V0IGluIGNhc2UgdGhlcmUgaXMgb25seSBvbmUgaW1hZ2UgaW4gdGhlIGZvbGRlci5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdChfZmlsZXMpO1xuICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuY2hhbmdlZFxuICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikgJiYgIWUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICBpZiAoIVJpc2VWaXNpb24uSW1hZ2UuaGFzU3RvcmFnZUVycm9yKCkpIHtcbiAgICAgICAgLy8gb25seSBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBiZWxvdyBpZiB0aGVyZSdzIGJlZW4gYSBzdG9yYWdlIGVycm9yLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAvLyB0aGlzIGlzIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSBzbGlkZXNob3cgYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaChfZmlsZXMpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJpc2Utc3RvcmFnZVwiKTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBoYW5kbGVSZXNwb25zZSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVtcHR5LWZvbGRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZW1wdHlcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IGltYWdlcy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZm9sZGVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZG9lc24ndCBleGlzdFwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZS5kZXRhaWxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1mb2xkZXItaW52YWxpZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZm9ybWF0KHMpIGludmFsaWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHN1cHBvcnRlZCBpbWFnZSBmb3JtYXRzLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlVHlwZVwiLCBcImltYWdlXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5Ob25TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX3JlZnJlc2hEdXJhdGlvbiA9IDMwMDAwMCwgIC8vIDUgbWludXRlc1xuICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlO1xuXG4gIHZhciBfdXJsID0gXCJcIjtcblxuICBmdW5jdGlvbiBfZ2V0RmlsZShvbWl0Q2FjaGVCdXN0ZXIpIHtcbiAgICB2YXIgcGFyYW1zO1xuXG4gICAgcmlzZUNhY2hlLmdldEZpbGUoX3VybCwgZnVuY3Rpb24gKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBlcnJvciBvY2N1cnJlZFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwibm9uLXN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICB9O1xuXG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgIGlmKGVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSArZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sIG9taXRDYWNoZUJ1c3Rlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XG4gICAgaWYgKF9yZWZyZXNoSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3JlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfZ2V0RmlsZShmYWxzZSk7XG4gICAgICB9LCBfcmVmcmVzaER1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy8gSGFuZGxlIHByZS1tZXJnZSB1c2Ugb2YgXCJ1cmxcIiBzZXR0aW5nIHByb3BlcnR5XG4gICAgX3VybCA9IChkYXRhLnVybCAmJiBkYXRhLnVybCAhPT0gXCJcIikgPyBkYXRhLnVybCA6IGRhdGEuc2VsZWN0b3IudXJsO1xuXG4gICAgX2dldEZpbGUodHJ1ZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgUmlzZVZpc2lvbiwgZ2FkZ2V0cyAqL1xuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlKG5hbWVzLCB2YWx1ZXMpIHtcbiAgICB2YXIgYWRkaXRpb25hbFBhcmFtcywgbW9kZSxcbiAgICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgICBkaXNwbGF5SWQgPSBcIlwiO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBjb21wYW55IGlkXG4gICAgICBpZiAobmFtZXNbMF0gPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgICAgY29tcGFueUlkID0gdmFsdWVzWzBdO1xuICAgICAgfVxuXG4gICAgICAvLyBkaXNwbGF5IGlkXG4gICAgICBpZiAobmFtZXNbMV0gPT09IFwiZGlzcGxheUlkXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlc1sxXSkge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IHZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJvdmlkZSBMb2dnZXJVdGlscyB0aGUgaWRzIHRvIHVzZVxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcblxuICAgICAgLy8gYWRkaXRpb25hbCBwYXJhbXNcbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBzdG9yYWdlIGZpbGUgb3IgZm9sZGVyIHNlbGVjdGVkXG4gICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGZvbGRlciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZvbGRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgbW9kZSA9IFwiZmlsZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub24tc3RvcmFnZSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uSW1hZ2UucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvbHltZXJSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBwb2x5bWVyUmVhZHkpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
